<div class="container-fluid">
  <div class="user-avatar-container">
    <% if @user.photo.attached? %>
    <%= cl_image_tag @user.photo.key, height: 90, width: 90, crop: :fill, class: "rounded-circle", alt: "avatar-large" %>
    <% else %>
    <div class="initials-avatar">
      <div class="initials"><%= @user.username[0..1].upcase %></div>
    </div>
    <%#= image_tag "https://kitt.lewagon.com/placeholder/users/arthur-littm", class: "avatar-large", alt: "avatar-large" %>
    <% end %>
    <!-- need to add username to sign up page to display username on the user show page -->
    <h4 class="username-info"> <%= @user.username %> </h4>
  </div>

  <div class="tab-container">
    <!-- Tab links -->
    <ul class="nav nav-tabs">
      <li class="active"><a class="color-tag" data-toggle="tab" href="#about">About</a></li>
      <li><a class="color-tag" data-toggle="tab" href="#posts">Posts</a></li>
    </ul>

    <!-- Tab content for About me -->
    <div class="tab-content">
      <div id="about" class="tab-pane fadein active">
        <div class="d-flex flex-row">
          <div class="d-flex flex-row">
            <h4><%= @user.name %></h4>
            <% if user_signed_in? && current_user.id == @user.id %>
              <div>
                <%= link_to edit_user_registration_path(current_user) do %>
                  <i class="fas fa-user-edit icon-user-edit"></i>
                <% end %>
              </div>
            <% end %>
          </div>
          <div class="about-info d-flex flex-column">
            <div>
              <p class="bold-text">Biography</p>
              <p><%= @user.biography %></p>
            </div>
            <div>
              <p class="bold-text">Location</p>
              <div class="d-flex flex-row p-10">
                <i class="fas fa-map-marker-alt icon-user-location"></i>
                <p><%= @user.location %></p>
              </div>
            </div>
             <div>
               <p class="bold-text">Experience</p>
               <div>
                <% @user.experience.times do %>
                  <i class="fas fa-star colored-star"></i>
                <% end %>
                <% (5 - @user.experience).times do %>
                  <i class="fas fa-star uncolored-star"></i>
                <% end %>
               </div>
             </div>
          </div>
        </div>
      </div>

      <!-- Tab content for Posts -->
      <div id="posts" class="tab-pane fade">
        <div class="cards">
          <% @user.posts.each do |post| %>
          <%= link_to post_path(post), class:"no-hover-link" do %>
          <div class="card">
            <div class="card-picture" style="background-image: linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.1)), url(<%= cl_image_path post.photos.first.key %>)">
            </div>

            <div class="card-infos">
              <div class="row">
                <div class="col-10">
                  <br>
                  <h5><strong> <%= post.title %> </strong></h5>
                  <h6><%= post.description %></h6>

                  <button class="btn-info" style="opacity: 0.8;"><% post.categories.each do |category| %>
                   <%= category.name %></button>
                   <% end %>
                 </div>
                 <div class="col-2"> <br> <div class="icon"> <i class="fas fa-comment-alt fa-s"></i> <i class="fas fa-eye fa-s"></i> </div>
                 <div class="icon"><p>150</p><p>69</p></div>
               </div>
             </div>
           </div>
         </div>
         <% end %>
         <% end %>
       </div>
     </div>
   </div>
  </div>
</div>




